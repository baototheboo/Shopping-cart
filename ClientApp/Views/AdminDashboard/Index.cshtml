@using System.Linq;
@using Microsoft.AspNetCore.Http
@using Newtonsoft.Json
@inject IHttpContextAccessor Accessor
@{
    ViewData["Title"] = "Home Page";
}



<div id="container">

    <div id="content">

        <div id="content-left">
            <ul>
                <a href="/AdminDashboard/Index">
                <li>Dashboard</li></a>
                <a href="/AdminOrder/Index">
                <li>Orders</li></a>
                <a href="/AdminProduct/Index">
                <li>Products</li></a>
                @*<a href="/AdminCustomer/Index">
                <li>Customers</li></a>*@
            </ul>
        </div>
        <div id="content-right">
            <div class="path-admin">DASHBOARD</b></div>
            <div class="content-main">
                <div id="content-main-dashboard">
                    <div id="dashboard-1">
                        <div id="dashboard-1-container">
                            <div class="dashboard-item">
                                <div class="dashboard-item-title">Weekly Sales</div>
                                <div class="dashboard-item-content">$@ViewBag.weeklySale</div>
                            </div>
                            <div class="dashboard-item">
                                <div class="dashboard-item-title">Total Orders</div>
                                <div class="dashboard-item-content">$@ViewBag.totalOrder</div>
                            </div>
                            <div class="dashboard-item">
                                <div class="dashboard-item-title">Total Customers</div>
                                <div class="dashboard-item-content">@ViewBag.totalCustomer</div>
                            </div>
                            <div class="dashboard-item">
                                <div class="dashboard-item-title">Total Guest</div>
                                <div class="dashboard-item-content">@ViewBag.totalGuest</div>
                            </div>
                        </div>
                    </div>
                    <div id="dashboard-2">
                        <div id="chart" style="text-align: center;">
                            <div id="chart1">
                                <h3>Statistic Orders (Month)</h3>
                                <canvas id="myChart1" style="width: 100%;"></canvas>
                            </div>
                            <div id="chart2">
                                <canvas id="myChart2" style="width: 80%;"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-admin">footer</div>
    <div id="hidden" hidden>@ViewBag.monthlyOrder</div>
</div>

<script>
    function OrdersChart(){


        var monthlyOrder = document.getElementById("hidden").innerHTML;

        var monthly = JSON.parse(monthlyOrder);

        var xValues = monthly[0];
    
        new Chart("myChart1", {
        type: "line",
        data: {
            labels: xValues,
            datasets: [{ 
            data: monthly[1],
            borderColor: "sienna",
            fill: true
            }]
        },
        options: {
            legend: {display: false}
        }
        });
    }

    OrdersChart();
   
</script>



